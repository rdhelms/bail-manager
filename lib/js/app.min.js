!function(){"use strict";angular.module("baseAngular",["ui.router","LocalStorageModule"]).config(function(a,b){b.otherwise("/"),a.state("main",{url:"/",templateUrl:"src/views/main.html",controller:"mainCtrl as main"}).state("main.inmates",{url:"inmates",templateUrl:"src/views/inmates.html",controller:"inmatesCtrl as inmates"}).state("main.crimes",{url:"crimes",templateUrl:"src/views/crimes.html",controller:"crimesCtrl as crimes"}).state("main.manager",{url:"manager",templateUrl:"src/views/manager.html",controller:"managerCtrl as manager"})})}(),function(){angular.module("baseAngular").service("CrimesService",function(a){function b(a){g=a}function c(){return!!g&&g}function d(){var a=$.ajax({method:"GET",url:"https://inmatesearch.herokuapp.com/api/nc/durham/crimes",success:function(a){console.log("Success: getCrimes")},error:function(a){console.log("Error: getCrimes"),console.log(a)}});return a}function e(a){var b={query:{name:a.name},update:{name:a.name,bailable:a.bailable}},b=$.ajax({method:"PUT",url:"https://inmatesearch.herokuapp.com/api/nc/durham/crimes",data:b,success:function(a){console.log("Success: updateCrime")},error:function(a){console.log("Error: updateCrime"),console.log(a)}});return b}function f(a){var b=$.ajax({method:"POST",url:"https://inmatesearch.herokuapp.com/api/inmatemanager/crimes",data:a,success:function(a){console.log("Success: addCrime")},error:function(a){console.log("Error: addCrime"),console.log(a)}});return b}var g;return{getCrimes:d,addCrime:f,updateCrime:e,setCrimeList:b,getCrimeList:c}})}(),function(){angular.module("baseAngular").service("InmateService",function(a,b){function c(a){h=a}function d(){return!!h&&h}function e(){var a=$.ajax({method:"GET",url:"https://inmatesearch.herokuapp.com/api/nc/durham/inmates",success:function(a){console.log("Success: getInmates")},error:function(a){console.log("Error: getInmates"),console.log(a)}});return a}function f(a){var b=$.ajax({method:"POST",url:"https://inmatesearch.herokuapp.com/api/inmatemanager/inmates",data:a,success:function(a){console.log("Success: addInmate")},error:function(a){console.log("Error: addInmate"),console.log(a)}});return b}function g(a){var c=!0,d=b.getCrimeList();a.charges.forEach(function(a){d.forEach(function(b){a.description==b.name&&"No"==b.bailable&&(c=!1),"[N/A]"!=a.bondType&&"NO BOND"!=a.bondType&&"NB"!=a.bondType||(c=!1)})}),a.totalBailAmount<=2e3&&c?a.bailability="Yes":a.bailability="No"}var h;return{getInmates:e,addInmate:f,checkBailability:g,setInmateList:c,getInmateList:d}})}(),function(){angular.module("baseAngular").service("ManagerService",function(a){function b(){var a=$.ajax({method:"GET",url:"https://inmatesearch.herokuapp.com/api/nc/durham/inmates",success:function(a){console.log("Success: getInmates")},error:function(a){console.log("Error: getInmates"),console.log(a)}});return a}function c(a){var b=$.ajax({method:"POST",url:"https://inmatesearch.herokuapp.com/api/inmatemanager/inmates",data:a,success:function(a){console.log("Success: addInmate")},error:function(a){console.log("Error: addInmate"),console.log(a)}});return b}return{getInmates:b,addInmate:c}})}(),angular.module("baseAngular").controller("crimesCtrl",function(a,b,c){var d=this;d.updateCrime=function(b){a.updateCrime(b).done(function(a){console.log("Received Response: "),console.log(a)})}}),angular.module("baseAngular").controller("inmatesCtrl",function(a,b,c){var d=this;d.searchChargesType="lessThan",d.searchBailType="lessThan",d.searchNumCharges,d.searchBailAmount,d.addInmate=function(b){a.addInmateToManager(b).done(function(a){console.log(a)})},d.searchCharges=function(a){return!d.searchNumCharges||("exact"==d.searchChargesType&&a.charges.length==d.searchNumCharges||("lessThan"==d.searchChargesType&&a.charges.length<=d.searchNumCharges||"greaterThan"==d.searchChargesType&&a.charges.length>=d.searchNumCharges))},d.searchTotalBail=function(a){return!d.searchBailAmount||("exact"==d.searchBailType&&a.totalBailAmount==d.searchBailAmount||("lessThan"==d.searchBailType&&a.totalBailAmount<=d.searchBailAmount||"greaterThan"==d.searchBailType&&a.totalBailAmount>=d.searchBailAmount))}}),angular.module("baseAngular").controller("mainCtrl",function(a,b,c,d){function e(){b.getCrimes().done(function(a){a.forEach(function(a){a.bailable&&"Maybe"!=a.bailable||(a.bailable="Null",g.updateCrime(a))}),b.setCrimeList(a),g.loadingCrimes=!1,g.crimeList=b.getCrimeList(),d.$apply()})}function f(){a.getInmates().done(function(b){b.forEach(function(b){a.checkBailability(b)}),a.setInmateList(b),g.loadingInmates=!1,g.inmateList=a.getInmateList(),d.$apply()})}var g=this;g.loading=!0,g.testing="Testing stuff",g.crimeList=b.getCrimeList()||e(),g.inmateList=a.getInmateList()||f(),g.loadingCrimes||g.loadingInmates||(g.loading=!1),g.updateCrime=function(a){b.updateCrime(a).done(function(a){console.log("Received Response: "),console.log(a)})}}),angular.module("baseAngular").controller("managerCtrl",function(a,b,c){});