<header>
  <nav>
    <ul class="navBtns">
      <li ui-sref="main">Home</li>
      <!-- <li ui-sref="main.first">Page 1</li> -->
      <!-- <li ui-sref="main.second">Page 2</li> -->
    </ul>
  </nav>
</header>

<ui-view></ui-view>

<section class="search">
  <h1>Search Inmates</h1>
  <div class="searchField">
    <label for="searchAll">Search All Fields: </label>
    <input id="searchAll" type="text" ng-model="main.searchAll">
  </div>
  <div class="searchField">
    <label for="searchName">Names: </label>
    <input id="searchName" type="text" ng-model="main.search.name">
  </div>
  <div class="searchField">
    <label for="searchNumCharges">Number of Charges: </label>
    <input id="searchNumCharges" type="text" ng-model="main.searchNumCharges">
    <input type="radio" name="searchChargesType" value="exact" ng-model="main.searchChargesType">
    <span>Exact</span>
    <input type="radio" name="searchChargesType" value="lessThan" ng-model="main.searchChargesType">
    <span>Less than</span>
    <input type="radio" name="searchChargesType" value="greaterThan" ng-model="main.searchChargesType">
    <span>Greater than</span>
  </div>
  <div class="searchField">
    <label for="searchBailAmount">Bail Amount: </label>
    <input id="searchBailAmount" type="text" ng-model="main.searchBailAmount">
    <input type="radio" name="searchBailType" value="exact" ng-model="main.searchBailType">
    <span>Exact</span>
    <input type="radio" name="searchBailType" value="lessThan" ng-model="main.searchBailType">
    <span>Less than</span>
    <input type="radio" name="searchBailType" value="greaterThan" ng-model="main.searchBailType">
    <span>Greater than</span>
  </div>
  <div class="searchField">
    <label for="searchDateReleased">Date Released: </label>
    <input id="searchDateReleased" type="text" ng-model="main.search.dateReleased">
  </div>
</section>
<p class="loading" ng-if="main.loading">LOADING...</p>
<p ng-cloak class="resultNum">Results: {{main.filterResults.length}} </p>
<section class="inmateList">
  <ul class="inmateInfo title">
    <li>Name</li>
    <li>Charges</li>
    <li>Total Bail Amount</li>
    <li>Date Released</li>
    <li>Bailable</li>
  </ul>
  <ul class="allInmates">
    <li class="inmateContainer" ng-repeat="inmate in main.filterResults = (main.inmateList | filter : main.searchAll | filter : main.search | filter : main.searchCharges | filter : main.searchTotalBail)">
      <ul class="inmateInfo" ng-click="inmate.active = !inmate.active">
        <li>{{inmate.name}}</li>
        <li>{{inmate.charges.length}}</li>
        <li>{{inmate.totalBailAmount}}</li>
        <li>{{inmate.dateReleased}}</li>
        <li> ? </li>
      </ul>
      <ul class="inmateCharges title" ng-if="inmate.active">
        <li>Description</li>
        <li>Bail</li>
        <li>Bond Type</li>
        <li>CourtDocket</li>
        <li>Date Charged</li>
        <li>Date Confined</li>
        <li>Date Released</li>
        <li>Days in Jail</li>
      </ul>
      <ul class="inmateCharges" ng-repeat="charge in inmate.charges" ng-if="inmate.active">
        <li>{{charge.description}}</li>
        <li>{{charge.bailAmountString}}</li>
        <li>{{charge.bondType}}</li>
        <li>{{charge.courtDocket}}</li>
        <li>{{charge.dateCharged}}</li>
        <li>{{charge.dateConfined}}</li>
        <li>{{charge.dateReleased}}</li>
        <li>{{charge.daysInJail}}</li>
      </ul>
    </li>
  </ul>
</section>
